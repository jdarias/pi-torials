# Static IP for a specific network
The idea of this is to assign a static IP so i can have easier access to the pi services services, without compromising the connectivity to another network

## Find the Settings of your local Network

[Source](https://raspberrypi.stackexchange.com/questions/37920/how-do-i-set-up-networking-wifi-static-ip-address/74428#74428)

This is most easily done with the Pi itself, using DHCP, but can be done on any computer on your network, although the commands may differ on other systems.

Run

`ip -4 addr show | grep global`

which should give an output like:

`inet 10.1.1.30/24 brd 10.1.1.255 scope global eth0
inet 10.1.1.31/24 brd 10.1.1.255 scope global wlan0`

The first address is the IP address of your Pi on the network, and the part after the slash is the network size. It is highly likely that yours will be a /24.

The second address is the brd (broadcast) address of the network.

Find the address of your router (or gateway)

`ip route | grep default | awk '{print $3}'`

It gives out something like this

`10.1.1.1`

Finally note down the address of your DNS server, which is often the same as your gateway.

`cat /etc/resolv.conf`

Gives out something like this: 

`# Generated by resolvconf
nameserver 10.1.1.1`

## Edit /etc/dhcpcd.conf

[Source](https://www.raspberrypi.org/forums/viewtopic.php?t=140252)

We use wlan0 for the wireless interface and eth0 for the etherenet interface. In my case i'm setting the wireless interface, so in /etc/dhcpcd.conf i'm going to create a new line at the end with 

`interface wlan0`

Then i'm using arping to specify the address of the router:

`arping 10.1.1.1`

Profiles can be defined with IP or the MAC of the router. Since 10.1.1.1 could be used in other networks' routers, i'm going to find the MAC of the router
and put it like this: 

`profile aa:bb:cc:dd:ee:ff`

Then place the info we got from the last section like this:

```
static ip_address=10.1.1.31/24
static routers=10.1.1.1
static domain_name_servers=10.1.1.1
```

Should look similar to this: 

```
interface wlan0
arping 10.1.1.1

profile aa:bb:cc:dd:ee:ff
static ip_address=10.1.1.31/24
static routers=10.1.1.1
static domain_name_servers=10.1.1.1
```

This way we configure the wireless interface to give a static ip of 10.1.1.31/24 when it connects to a router in 10.1.1.1 that has the MAC aa:bb:cc:dd:ee:ff. For anything else it falls back to dhcp
